@model Nailhang.Web.Models.IndexModel

@{
    ViewBag.Title = "Домашняя страница";
}

<div class="jumbotron">
    <div class="container">
        <h2>Nailhang</h2>
        <h5>Утилита для просмотра списка модулей</h5>
        @*<p><a href="http://asp.net" class="btn btn-primary btn-lg">Learn more &raquo;</a></p>*@
    </div>
</div>

@using (Html.BeginForm("Index", "Home", FormMethod.Get))
{
    <div class="panel panel-default">
        <div class="panel-heading">Пространство имен</div>
        <div class="panel-body">
            @Html.DropDownListFor(w => w.SelectedRoot, Model.RootNamespaces)
            <input class="btn btn-primary" type="submit" value="Обновить" />
        </div>
    </div>
}

    <h2>Недавние изменения</h2>
<div class="hot-module-columns">    
    <ul>
        @foreach (var hm in Model.HotModules)
        {
            <li title="@hm.Module.Module.Description">
                @Html.ActionLink(hm.Module.Module.FullName, "Index", "Module", new { module = @hm.Module.Module.FullName }, null) <b> (@string.Join(", ", @hm.HotInfo.LastRevisions.Select(q => q.Revision.User).Distinct())) </b> - [@hm.HotInfo.LastRevisions.Select(q => q.Revision.UtcDateTime).Max().ToLocalTime().ToShortDateString()]
            </li>
        }
    </ul>
</div>

<h2>Модули</h2>
<div class="module-columns">
    
    <ul>
        @foreach (var m in Model.Modules.OrderBy(w => w.Module.FullName))
        {
            <li title="@m.Module.Description">
                @Html.ActionLink(m.Module.FullName, "Index", "Module", new { module = @m.Module.FullName }, null)
            </li>
        }
    </ul>
</div>

<p class="interface-name">
    Всего модулей: @Model.Modules.Count()
</p>

@*<div class="container">
        <div>
            <ul>
                @foreach (var m in Model.Modules.OrderBy(w => w.Module.FullName))
                {
                    <li>
                        @{string nameSpace = m.Namespace;}
                        <h2>
                            @Html.ActionLink(@nameSpace, "Index", "Module", new { module = @m.Module.FullName }, null)
                        </h2>

                        @Html.Partial("~/Views/Module/ModuleView.cshtml", m)
                    </li>
                            }
            </ul>
        </div>
    </div>*@










