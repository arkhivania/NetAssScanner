@model Nailhang.Web.Models.IndexModel

@{
    ViewBag.Title = "Home Page";
}

<div class="jumbotron">
    <h1>Nailhang</h1>
    <p class="lead">Утилита для просмотра списка модулей</p>
    @*<p><a href="http://asp.net" class="btn btn-primary btn-lg">Learn more &raquo;</a></p>*@
</div>

@using (Html.BeginForm())
{
    @Html.Hidden("formUpdate", true)
    @Html.EditorFor(w => w.DisplaySettings, "DisplaySettings")

    <br />
    <div>
        Пространство имен
        @Html.DropDownListFor(w => w.SelectedRoot, Model.RootNamespaces)
    </div>

    <input type="submit" value="Обновить" />
}

<div class="row">
    <div>
        <ul>
            @foreach (var m in Model.Modules.OrderBy(w => w.Module.FullName))
            {                
                <li>
                    @{string nameSpace = m.Namespace;}
                    <h2>
                        @Html.ActionLink(@nameSpace, "Index", "Module", new { module = @m.Module.FullName }, null)
                    </h2>

                    @Html.Partial("~/Views/Module/ModuleView.cshtml", m)
                </li>
            }
        </ul>
    </div>
    
</div>